import React from 'react';
import { NavLink } from 'react-router-dom';
import { useDispatch, useSelector } from 'react-redux';
import SwiperCore, { Navigation } from 'swiper';
import { Swiper, SwiperSlide } from 'swiper/react';
import '../YourOrders.scss';
import './swiper-bundle.scss';

SwiperCore.use([Navigation]);

const Slider = () => {
  const takenBooks = useSelector((state) => state.takenBooks.takenBooks);
  const dispatch = useDispatch();

  return (
    <Swiper
      modules={[Navigation]}
      spaceBetween={28}
      slidesPerView={8}
      navigation
      pagination={{ clickable: true }}
      scrollbar={{ draggable: true }}
    >
      {takenBooks.map((item, key) => (
        <SwiperSlide key={key}>
          <div className="waiting-for__card-body">
            <div className="waiting-for_card-image">
              <NavLink to={`/${item.id}`}>
                <img className="img" src={item.imageUrl} alt={item.name} />
              </NavLink>
            </div>
            <div className="waiting-for_card-text">
              <h2>{item.name.includes(':') ? item.name.match(/[^:]*/) : item.name}</h2>
              <h3>{item.author}</h3>
              <div className="card-footer">
                <ul className="waiting-for_card-stars">
                  <li>
                    <svg
                      width="21"
                      height="19"
                      viewBox="0 0 21 19"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M9.57885 0.92705C9.87821 0.00573897 11.1816 0.00573993 11.481 0.927051L13.1051 5.92564C13.239 6.33766 13.6229 6.61662 14.0562 6.61662H19.312C20.2807 6.61662 20.6835 7.85624 19.8998 8.42564L15.6477 11.5149C15.2972 11.7696 15.1506 12.221 15.2845 12.633L16.9086 17.6316C17.2079 18.5529 16.1535 19.319 15.3697 18.7496L11.1177 15.6603C10.7672 15.4057 10.2926 15.4057 9.94213 15.6603L5.69007 18.7496C4.90635 19.319 3.85188 18.5529 4.15123 17.6316L5.77537 12.633C5.90924 12.221 5.76258 11.7696 5.4121 11.5149L1.16004 8.42564C0.376328 7.85624 0.779104 6.61662 1.74783 6.61662H7.00366C7.43688 6.61662 7.82084 6.33766 7.95471 5.92564L9.57885 0.92705Z"
                        fill="black"
                      />
                    </svg>
                  </li>
                  <li>
                    <svg
                      width="21"
                      height="19"
                      viewBox="0 0 21 19"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M9.57885 0.92705C9.87821 0.00573897 11.1816 0.00573993 11.481 0.927051L13.1051 5.92564C13.239 6.33766 13.6229 6.61662 14.0562 6.61662H19.312C20.2807 6.61662 20.6835 7.85624 19.8998 8.42564L15.6477 11.5149C15.2972 11.7696 15.1506 12.221 15.2845 12.633L16.9086 17.6316C17.2079 18.5529 16.1535 19.319 15.3697 18.7496L11.1177 15.6603C10.7672 15.4057 10.2926 15.4057 9.94213 15.6603L5.69007 18.7496C4.90635 19.319 3.85188 18.5529 4.15123 17.6316L5.77537 12.633C5.90924 12.221 5.76258 11.7696 5.4121 11.5149L1.16004 8.42564C0.376328 7.85624 0.779104 6.61662 1.74783 6.61662H7.00366C7.43688 6.61662 7.82084 6.33766 7.95471 5.92564L9.57885 0.92705Z"
                        fill="black"
                      />
                    </svg>
                  </li>
                  <li>
                    <svg
                      width="21"
                      height="19"
                      viewBox="0 0 21 19"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M9.57885 0.92705C9.87821 0.00573897 11.1816 0.00573993 11.481 0.927051L13.1051 5.92564C13.239 6.33766 13.6229 6.61662 14.0562 6.61662H19.312C20.2807 6.61662 20.6835 7.85624 19.8998 8.42564L15.6477 11.5149C15.2972 11.7696 15.1506 12.221 15.2845 12.633L16.9086 17.6316C17.2079 18.5529 16.1535 19.319 15.3697 18.7496L11.1177 15.6603C10.7672 15.4057 10.2926 15.4057 9.94213 15.6603L5.69007 18.7496C4.90635 19.319 3.85188 18.5529 4.15123 17.6316L5.77537 12.633C5.90924 12.221 5.76258 11.7696 5.4121 11.5149L1.16004 8.42564C0.376328 7.85624 0.779104 6.61662 1.74783 6.61662H7.00366C7.43688 6.61662 7.82084 6.33766 7.95471 5.92564L9.57885 0.92705Z"
                        fill="black"
                      />
                    </svg>
                  </li>
                  <li>
                    <svg
                      width="21"
                      height="19"
                      viewBox="0 0 21 19"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M9.57885 0.92705C9.87821 0.00573897 11.1816 0.00573993 11.481 0.927051L13.1051 5.92564C13.239 6.33766 13.6229 6.61662 14.0562 6.61662H19.312C20.2807 6.61662 20.6835 7.85624 19.8998 8.42564L15.6477 11.5149C15.2972 11.7696 15.1506 12.221 15.2845 12.633L16.9086 17.6316C17.2079 18.5529 16.1535 19.319 15.3697 18.7496L11.1177 15.6603C10.7672 15.4057 10.2926 15.4057 9.94213 15.6603L5.69007 18.7496C4.90635 19.319 3.85188 18.5529 4.15123 17.6316L5.77537 12.633C5.90924 12.221 5.76258 11.7696 5.4121 11.5149L1.16004 8.42564C0.376328 7.85624 0.779104 6.61662 1.74783 6.61662H7.00366C7.43688 6.61662 7.82084 6.33766 7.95471 5.92564L9.57885 0.92705Z"
                        fill="black"
                      />
                    </svg>
                  </li>
                  <li>
                    <svg
                      width="21"
                      height="19"
                      viewBox="0 0 21 19"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M9.57885 0.92705C9.87821 0.00573897 11.1816 0.00573993 11.481 0.927051L13.1051 5.92564C13.239 6.33766 13.6229 6.61662 14.0562 6.61662H19.312C20.2807 6.61662 20.6835 7.85624 19.8998 8.42564L15.6477 11.5149C15.2972 11.7696 15.1506 12.221 15.2845 12.633L16.9086 17.6316C17.2079 18.5529 16.1535 19.319 15.3697 18.7496L11.1177 15.6603C10.7672 15.4057 10.2926 15.4057 9.94213 15.6603L5.69007 18.7496C4.90635 19.319 3.85188 18.5529 4.15123 17.6316L5.77537 12.633C5.90924 12.221 5.76258 11.7696 5.4121 11.5149L1.16004 8.42564C0.376328 7.85624 0.779104 6.61662 1.74783 6.61662H7.00366C7.43688 6.61662 7.82084 6.33766 7.95471 5.92564L9.57885 0.92705Z"
                        fill="black"
                      />
                    </svg>
                  </li>
                </ul>
                <button
                  className="waiting-for_card-button"
                  type="button"
                  onClick={(e) => {
                    e.preventDefault();
                    dispatch({ type: 'RETURN_BOOKS', payload: item });
                  }}
                >
                  Return
                </button>
              </div>
            </div>
          </div>
        </SwiperSlide>
      ))}
    </Swiper>
  );
};

export default Slider;
